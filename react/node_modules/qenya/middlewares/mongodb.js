'use strict';exports.__esModule = true;var _regenerator = require('babel-runtime/regenerator');var _regenerator2 = _interopRequireDefault(_regenerator);var _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');var _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);var _mongodb = require('mongodb');
var _config = require('../config');var _config2 = _interopRequireDefault(_config);
var _objectId = require('../utils/objectId');function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}exports.default = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(

function _callee2() {var dbs;return _regenerator2.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:_context2.next = 2;return (

            _mongodb.MongoClient.connect(_config2.default.mongo.qenya));case 2:_context2.t0 = _context2.sent;_context2.next = 5;return (
            _mongodb.MongoClient.connect(_config2.default.mongo.data));case 5:_context2.t1 = _context2.sent;dbs = { qenya: _context2.t0, data: _context2.t1 };


          (0, _objectId.setObjectID)(_mongodb.ObjectID, dbs.qenya);return _context2.abrupt('return', function () {var _ref2 = (0, _asyncToGenerator3.default)(_regenerator2.default.mark(

            function _callee(ctx, next) {return _regenerator2.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0:
                      ctx.db = function () {var path = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'qenya';return dbs[path];};_context.next = 3;return (
                        next());case 3:case 'end':return _context.stop();}}}, _callee, this);}));return function (_x, _x2) {return _ref2.apply(this, arguments);};}());case 9:case 'end':return _context2.stop();}}}, _callee2, this);}));
//# sourceMappingURL=mongodb.js.map