{"version":3,"sources":["../../server/utils/strings.js"],"names":["substitute","str","obj","indexOf","replace","match","name","charAt","slice","undefined","val"],"mappings":"kQAAgBA,U,GAAAA,U,8FAAT,SAASA,UAAT,CAAqBC,GAArB,EAA0BC,GAA1B,EAA+B;AACpC,MAAI,OAAOD,GAAP,KAAe,QAAnB,EAA6B;AAC3B,QAAIA,IAAIE,OAAJ,CAAY,GAAZ,IAAmB,CAAvB,EAA0B;AACxB,aAAOD,IAAID,GAAJ,CAAP;AACD,KAFD,MAEO;AACL,aAAOA,IAAIG,OAAJ,CAAa,kBAAb,EAAkC,UAAUC,KAAV,EAAiBC,IAAjB,EAAuB;AAC9D,YAAID,MAAME,MAAN,CAAa,CAAb,MAAoB,IAAxB,EAA8B;AAC5B,iBAAOF,MAAMG,KAAN,CAAY,CAAZ,CAAP;AACD;AACD,eAAQN,IAAII,IAAJ,MAAc,IAAd,IAAsBJ,IAAII,IAAJ,MAAcG,SAArC,GAAkD,EAAlD,GAAuDP,IAAII,IAAJ,CAA9D;AACD,OALM,CAAP;AAMD;AACF,GAXD,MAWO,IAAI,OAAOL,GAAP,KAAe,UAAnB,EAA+B;AACpC,QAAIS,MAAMT,IAAIC,GAAJ,CAAV;AACA,QAAIQ,QAAQR,GAAR,IAAe,QAAOQ,GAAP,uDAAOA,GAAP,OAAe,QAAlC,EAA4C;AAC1CA,YAAM,sBAAc,EAAd,EAAkBR,GAAlB,CAAN;AACD;AACD,WAAOQ,GAAP;AACD;AACF","file":"strings.js","sourcesContent":["export function substitute (str, obj) {\n  if (typeof str === 'string') {\n    if (str.indexOf('{') < 0) {\n      return obj[str]\n    } else {\n      return str.replace((/\\\\?\\{([^{}]+)\\}/g), function (match, name) {\n        if (match.charAt(0) === '\\\\') {\n          return match.slice(1)\n        }\n        return (obj[name] === null || obj[name] === undefined) ? '' : obj[name]\n      })\n    }\n  } else if (typeof str === 'function') {\n    let val = str(obj)\n    if (val === obj && typeof val === 'object') {\n      val = Object.assign({}, obj)\n    }\n    return val\n  }\n}\n"]}