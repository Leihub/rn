{"version":3,"sources":["../../server/utils/datetime.js"],"names":["format","date","fmtstr","Date","o","getMonth","getDate","getHours","getMinutes","getSeconds","Math","floor","S","getMilliseconds","fmt","test","replace","RegExp","$1","getFullYear","substr","length","forEach","k"],"mappings":"mJAAgBA,M,GAAAA,M,8FAAT,SAASA,MAAT,CAAgBC,IAAhB,EAAsBC,MAAtB,EAA8B;AACnC,MAAI,CAACD,IAAL,EAAW,CAAE,OAAO,EAAP,CAAW;AACxB,MAAI,EAAEA,gBAAgBE,IAAlB,CAAJ,EAA6B;AAC3BF,WAAO,IAAIE,IAAJ,CAASF,IAAT,CAAP;AACD;AACD,MAAMG,IAAI;AACR,UAAMH,KAAKI,QAAL,KAAkB,CADhB;AAER,UAAMJ,KAAKK,OAAL,EAFE;AAGR,UAAML,KAAKM,QAAL,EAHE;AAIR,UAAMN,KAAKO,UAAL,EAJE;AAKR,UAAMP,KAAKQ,UAAL,EALE;AAMR,UAAMC,KAAKC,KAAL,CAAW,CAACV,KAAKI,QAAL,KAAkB,CAAnB,IAAwB,CAAnC,CANE;AAORO,OAAGX,KAAKY,eAAL,EAPK,EAAV;;AASA,MAAIC,MAAMZ,MAAV;AACA,MAAI,OAAOa,IAAP,CAAYD,GAAZ,CAAJ,EAAsB;AACpBA,UAAMA,IAAIE,OAAJ,CAAYC,OAAOC,EAAnB,EAAuB,MAAIjB,KAAKkB,WAAL,EAAJ,EAA0BC,MAA1B,CAAiC,IAAIH,OAAOC,EAAP,CAAUG,MAA/C,CAAvB,CAAN;AACD;AACD,sBAAYjB,CAAZ,EAAekB,OAAf,CAAuB,UAACC,CAAD,EAAO;AAC5B,QAAI,IAAIN,MAAJ,OAAeM,CAAf,QAAqBR,IAArB,CAA0BD,GAA1B,CAAJ,EAAoC;AAClCA,YAAMA,IAAIE,OAAJ,CAAYC,OAAOC,EAAnB,EAAwBD,OAAOC,EAAP,CAAUG,MAAV,KAAqB,CAAtB,GAA4BjB,EAAEmB,CAAF,CAA5B,GAAqC,QAAMnB,EAAEmB,CAAF,CAAN,EAAcH,MAAd,CAAqB,MAAIhB,EAAEmB,CAAF,CAAJ,EAAYF,MAAjC,CAA5D,CAAN;AACD;AACF,GAJD;AAKA,SAAOP,GAAP;AACD","file":"datetime.js","sourcesContent":["export function format(date, fmtstr) {\n  if (!date) { return '' }\n  if (!(date instanceof Date)) {\n    date = new Date(date)\n  }\n  const o = {\n    'M+': date.getMonth() + 1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds(),\n    'q+': Math.floor((date.getMonth() + 3) / 3),\n    S: date.getMilliseconds(),\n  }\n  let fmt = fmtstr\n  if (/(y+)/.test(fmt)) {\n    fmt = fmt.replace(RegExp.$1, (`${date.getFullYear()}`).substr(4 - RegExp.$1.length))\n  }\n  Object.keys(o).forEach((k) => {\n    if (new RegExp(`(${k})`).test(fmt)) {\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length === 1) ? (o[k]) : ((`00${o[k]}`).substr((`${o[k]}`).length)))\n    }\n  })\n  return fmt\n}\n"]}