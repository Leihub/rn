{"version":3,"sources":["../../server/utils/logger.js"],"names":["info","debug","warn","error","Datetime","slice","Array","prototype","existsSync","logPath","mkdirSync","wirteLog","type","args","filePrint","date","Date","now","call","unshift","format","msg","join","appendFile","console","log","arguments"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCgBA,I,GAAAA,I;;;;AAIAC,K,GAAAA,K;;;;AAIAC,I,GAAAA,I;;;;AAIAC,K,GAAAA,K,CA5ChB,wB,uCACA,sC,IAAYC,Q,sCACZ,mC,4YAEA,IAAMC,QAAQC,MAAMC,SAAN,CAAgBF,KAA9B,CAEA,IAAI,CAAC,aAAGG,UAAH,CAAc,iBAAOC,OAArB,CAAL,EAAoC,CAClC,aAAGC,SAAH,CAAa,iBAAOD,OAApB,EACD,CAED,SAASE,QAAT,CAAkBC,IAAlB,EAAwBC,IAAxB,EAA8B,CAC5B,IAAMC,YAAYF,SAAS,MAAT,IAAmBA,SAAS,OAA9C,CAEA,IAAI,CAACE,SAAD,IAAc,CAAC,iBAAOb,KAA1B,EAAiC,CAC/B,OACD,CAED,IAAMc,OAAOC,KAAKC,GAAL,EAAb,CAEAJ,OAAOR,MAAMa,IAAN,CAAWL,IAAX,CAAP,CACAA,KAAKM,OAAL,CAAaf,SAASgB,MAAT,CAAgBL,IAAhB,EAAsB,qBAAtB,CAAb,EACA,IAAMM,MAAMR,KAAKS,IAAL,CAAU,GAAV,CAAZ,CAEA,IAAIR,SAAJ,EAAe,CACb,aAAGS,UAAH,CAAiB,iBAAOd,OAAxB,SAAmCG,IAAnC,SAA2CR,SAASgB,MAAT,CAAgBL,IAAhB,EAAsB,UAAtB,CAA3C,WAAuFM,GAAvF,SACD,CAED,IAAI,iBAAOpB,KAAX,EAAkB,CAChBuB,QAAQC,GAAR,CAAYJ,GAAZ,EACD,CACF,CAEM,SAASrB,IAAT,GAAgB,CACrBW,SAAS,MAAT,EAAiBe,SAAjB,EACD,CAEM,SAASzB,KAAT,GAAiB,CACtBU,SAAS,OAAT,EAAkBe,SAAlB,EACD,CAEM,SAASxB,IAAT,GAAgB,CACrBS,SAAS,MAAT,EAAiBe,SAAjB,EACD,CAEM,SAASvB,KAAT,GAAiB;AACtBQ,WAAS,OAAT,EAAkBe,SAAlB;AACD","file":"logger.js","sourcesContent":["import fs from 'fs'\nimport * as Datetime from './datetime'\nimport config from '../config'\n\nconst slice = Array.prototype.slice\n\nif (!fs.existsSync(config.logPath)) {\n  fs.mkdirSync(config.logPath)\n}\n\nfunction wirteLog(type, args) {\n  const filePrint = type === 'warn' || type === 'error'\n\n  if (!filePrint && !config.debug) {\n    return\n  }\n\n  const date = Date.now()\n\n  args = slice.call(args)\n  args.unshift(Datetime.format(date, 'yyyy-MM-dd hh:mm:ss'))\n  const msg = args.join(' ')\n\n  if (filePrint) {\n    fs.appendFile(`${config.logPath}/${type}-${Datetime.format(date, 'yyyyMMdd')}.log`, `${msg}\\n`)\n  }\n\n  if (config.debug) {\n    console.log(msg)\n  }\n}\n\nexport function info() {\n  wirteLog('info', arguments)\n}\n\nexport function debug() {\n  wirteLog('debug', arguments)\n}\n\nexport function warn() {\n  wirteLog('warn', arguments)\n}\n\nexport function error() {\n  wirteLog('error', arguments)\n}\n"]}